100 REM Test unRLEWB to VRAM
101 DEFINT A-Z
110 COLOR 15,4,15
120 SCREEN 2
130 RESTORE 1020
140 DE=BASE(12)
150 GOSUB 9100
160 IF INKEY$="" THEN 160
170 END
1000 REM Tileset Pattern data All BANKs
1010 REM RLE WB compressed - Original size= 6144 - Compress size= 1368
1020 DATA 128,254,,128,10,,1,3,7,15,31,63,15,127,128,213
1030 DATA 255,240,254,128,5,255,,,128,,192,224,240,248,252,128
1040 DATA 15,,63,128,2,127,128,3,255,248,224,192,128,,128,
1050 DATA 128,210,,31,7,3,1,1,128,2,,252,128,2,254,128
1060 DATA 3,255,128,15,,128,7,255,128,223,,128,7,255,128,15
1070 DATA ,128,7,255,128,223,,128,7,255,128,15,,128,7,255
1080 DATA 128,7,,128,7,255,128,7,192,128,7,7,128,7,254,128
1090 DATA 7,1,128,14,255,128,,128,6,255,,128,6,192,,128
1100 DATA 7,255,128,7,192,128,7,,128,7,7,128,7,254,128,17
1110 DATA ,1,3,7,15,15,31,15,127,128,3,255,254,252,252,128
1120 DATA 4,255,31,15,,128,,224,240,248,252,252,254,128,55,
1130 DATA 128,7,255,128,15,,128,7,255,128,7,,128,7,255,128
1140 DATA 7,192,128,7,7,128,7,254,128,7,1,128,7,255,128,7
1150 DATA 128,128,15,,128,7,255,128,7,192,128,7,,128,7,7
1160 DATA 128,7,254,128,15,,31,31,128,5,63,248,248,128,5,240
1170 DATA 7,7,128,5,3,254,254,128,5,255,128,55,,128,7,255
1180 DATA 128,15,,128,7,255,128,7,,128,14,255,192,128,6,255
1190 DATA 7,128,7,254,128,7,1,128,14,255,128,,128,6,252,128
1200 DATA 8,,128,7,255,128,7,192,128,7,,128,7,7,128,7
1210 DATA 254,128,15,,128,7,63,128,7,240,128,7,3,128,7,255
1220 DATA 128,55,,128,7,255,128,15,,128,7,255,128,7,,128
1230 DATA 7,255,128,7,192,128,7,7,128,7,254,128,7,1,128,7
1240 DATA 255,128,7,128,128,15,,128,7,255,128,7,192,128,7,
1250 DATA 128,7,7,128,7,254,128,15,,128,5,63,31,31,128,5
1260 DATA 240,248,248,128,5,3,7,7,128,5,255,254,254,128,55,
1270 DATA 128,7,255,128,15,,128,7,255,128,7,,128,7,255,128
1280 DATA 7,192,128,7,7,128,7,254,128,7,1,128,7,255,128,
1290 DATA 128,6,255,,128,6,255,,128,6,192,128,7,255,192,128
1300 DATA 6,255,,128,6,255,7,128,6,135,254,128,6,255,,128
1310 DATA 6,255,,128,6,252,31,15,15,7,3,1,,,252,254
1320 DATA 128,3,255,127,15,15,31,128,4,255,252,254,252,252,248,240
1330 DATA 224,128,,128,56,,128,7,255,128,15,,128,7,255,128
1340 DATA 223,,128,7,255,128,15,,128,7,255,128,223,,128,7
1350 DATA 255,128,15,,128,7,255,128,223,,128,7,255,128,15,
1360 DATA 128,7,255,128,7,,255,255,128,3,127,63,63,192,192,128
1370 DATA 3,224,240,240,15,15,128,3,31,63,63,252,252,128,3,254
1380 DATA 255,255,,,128,3,1,3,3,128,7,255,192,192,128,2
1390 DATA 128,129,1,3,1,15,63,127,128,9,255,195,129,128,,240
1400 DATA 252,254,128,3,255,128,4,,128,,128,,192,128,7,31
1410 DATA 128,6,255,248,128,6,255,15,,224,248,252,254,254,255,255
1420 DATA 128,7,,128,7,255,128,7,192,128,7,,128,7,7,128
1430 DATA 6,255,254,128,6,255,15,128,,240,252,254,128,3,255,128
1440 DATA 4,,128,,128,,192,128,4,7,128,2,3,128,4,255
1450 DATA 128,2,254,128,7,,128,7,255,128,15,,128,7,255,128
1460 DATA 7,,63,63,128,3,31,15,15,240,240,128,3,248,252,252
1470 DATA 63,63,128,3,127,128,9,255,3,3,128,3,135,207,207,255
1480 DATA 255,128,3,254,252,252,3,3,128,5,7,255,255,128,5,254
1490 DATA 128,7,,255,255,128,5,127,192,192,128,5,224,128,7,31
1500 DATA 128,7,248,3,128,5,1,3,128,7,255,,128,5,128,
1510 DATA 128,7,255,128,7,192,128,7,,128,7,7,128,7,254,3
1520 DATA 1,1,128,4,,128,5,255,127,127,192,192,128,5,224,128
1530 DATA 5,3,1,1,128,5,254,252,252,128,7,,128,7,255,128
1540 DATA 15,,128,7,255,128,7,,15,15,128,3,7,3,3,252
1550 DATA 252,128,19,255,63,63,207,207,128,5,255,252,252,128,3,248
1560 DATA 240,240,128,7,7,128,7,254,128,7,,128,7,127,128,7
1570 DATA 224,128,7,31,248,128,6,255,15,128,8,255,254,254,252,248
1580 DATA 240,192,128,7,,128,7,255,128,7,192,128,7,,128,7
1590 DATA 7,128,7,254,128,7,,128,7,127,128,7,224,128,6,1
1600 DATA ,128,6,252,248,128,7,,128,7,255,128,15,,128,7
1610 DATA 255,128,7,,3,3,128,3,1,,,128,9,255,128,3
1620 DATA 254,252,252,63,63,128,3,31,15,15,128,7,255,240,240,128
1630 DATA 3,224,192,192,128,5,7,3,3,128,5,254,255,255,128,7
1640 DATA ,128,5,127,255,255,128,5,224,192,192,128,7,31,128,7
1650 DATA 248,127,127,63,63,31,31,15,15,224,224,240,240,248,248,252
1660 DATA 252,128,7,,128,7,255,128,7,192,128,7,,128,7,7
1670 DATA 128,7,254,128,4,,1,1,3,127,127,128,5,255,128,5
1680 DATA 224,192,192,128,6,,1,128,3,248,128,2,,252,128,7
1690 DATA ,128,7,255,128,15,,128,7,255,128,15,,255,255,128
1700 DATA 3,127,63,63,252,252,128,3,248,240,240,15,15,128,3,7
1710 DATA 3,3,128,7,255,192,192,128,3,128,,,3,1,1,128
1720 DATA 4,,128,3,255,127,63,15,1,129,195,128,9,255,254,252
1730 DATA 240,128,,192,128,,128,,128,4,,128,7,31,128,7
1740 DATA 248,7,7,3,3,1,1,,,254,254,128,5,255,128,3
1750 DATA ,128,,128,,192,192,128,7,255,192,128,6,255,,128
1760 DATA 6,255,7,128,6,135,254,128,6,255,15,128,10,255,254,252
1770 DATA 240,128,,192,128,,128,,128,4,,128,6,3,1,128
1780 DATA 6,254,252,128,7,,128,7,255,128,15,,128,7,255,128
1790 DATA 223,,128,7,255,128,15,,128,3,255,128,2,127,63,128
1800 DATA 2,,128,,128,,192,224,248,128,210,,1,1,3,7
1810 DATA 31,128,3,255,128,2,254,252,128,15,,63,31,15,7,3
1820 DATA 1,,,128,5,255,127,15,128,7,255,254,128,6,255,128
1830 DATA 8,,1,3,7,15,31,63,127,127,128,180,255,254,240,252
1840 DATA 248,240,224,192,128,,128,41,,128,7,255,,1,3,7
1850 DATA 15,31,63,128,4,255,254,252,248,240,240,192,128,,128,228
1860 DATA ,128,6,255,127,128,3,255,254,252,248,224,224,192,128,
1870 DATA 128,254,,128,205,,128,255
9000 '=================================
9010 ' unRLEWB to VRAM for MSX BASIC
9020 ' Decompress RLEWB data to VRAM
9030 ' Input:
9040 '  RESTORE [line] <-- DATAs
9050 '              DE <-- VRAM address
9060 '=================================
9100 READ A
9110 IF A=128 THEN 9130
9120 VPOKE DE,A:DE=DE+1:GOTO 9100
9130 READ A
9140 IF A=255 THEN RETURN
9150 IF A=0 THEN A=128:GOTO 9120
9160 READ B
9170 FOR DE=DE TO DE+A:VPOKE DE,B:NEXT
9180 GOTO 9100